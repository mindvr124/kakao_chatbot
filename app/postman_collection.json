{
	"info": {
		"_postman_id": "kakao-ai-chatbot-collection",
		"name": "카카오 AI 챗봇 API 테스트",
		"description": "카카오 비즈니스 AI 챗봇 API 테스트용 컬렉션",
		"schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json"
	},
	"item": [
		{
			"name": "헬스체크",
			"item": [
				{
					"name": "기본 헬스체크",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{base_url}}/health",
							"host": ["{{base_url}}"],
							"path": ["health"]
						}
					}
				},
				{
					"name": "관리자 헬스체크",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{base_url}}/admin/health",
							"host": ["{{base_url}}"],
							"path": ["admin", "health"]
						}
					}
				}
			]
		},
		{
			"name": "카카오 스킬 테스트",
			"item": [
				{
					"name": "카카오 스킬 - 콜백 없음",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							},
							{
								"key": "X-Request-ID",
								"value": "test-{{$randomUUID}}"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"userRequest\": {\n    \"utterance\": \"안녕하세요, 도움이 필요해요\",\n    \"user\": {\n      \"id\": \"test-user-123\"\n    }\n  },\n  \"action\": {\n    \"id\": \"test-action\",\n    \"name\": \"테스트 액션\"\n  }\n}"
						},
						"url": {
							"raw": "{{base_url}}/skill",
							"host": ["{{base_url}}"],
							"path": ["skill"]
						}
					}
				},
				{
					"name": "카카오 스킬 - 콜백 포함",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							},
							{
								"key": "X-Request-ID",
								"value": "callback-{{$randomUUID}}"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"userRequest\": {\n    \"utterance\": \"제품 문의드립니다\",\n    \"user\": {\n      \"id\": \"test-user-456\"\n    }\n  },\n  \"action\": {\n    \"id\": \"callback-action\",\n    \"name\": \"콜백 테스트 액션\"\n  },\n  \"callbackUrl\": \"https://httpbin.org/post\"\n}"
						},
						"url": {
							"raw": "{{base_url}}/skill",
							"host": ["{{base_url}}"],
							"path": ["skill"]
						}
					}
				}
			]
		},
		{
			"name": "프롬프트 관리",
			"item": [
				{
					"name": "프롬프트 목록 조회",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{base_url}}/admin/prompts?active_only=true",
							"host": ["{{base_url}}"],
							"path": ["admin", "prompts"],
							"query": [
								{
									"key": "active_only",
									"value": "true"
								}
							]
						}
					}
				},
				{
					"name": "프롬프트 생성 - 고객서비스",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"name\": \"customer_service\",\n  \"system_prompt\": \"당신은 전문적인 고객 서비스 상담사입니다.\\n\\n다음 원칙을 따라 응답해주세요:\\n1. 고객의 문제를 정확히 파악하고 해결책을 제시하세요\\n2. 친절하고 공감하는 톤으로 대화하세요\\n3. 복잡한 내용은 단계별로 설명하세요\\n4. 추가 도움이 필요하면 전문 상담사 연결을 안내하세요\\n5. 항상 한국어로 자연스럽게 응답하세요\",\n  \"description\": \"고객 서비스 전용 상담봇 프롬프트\",\n  \"user_prompt_template\": null\n}"
						},
						"url": {
							"raw": "{{base_url}}/admin/prompts",
							"host": ["{{base_url}}"],
							"path": ["admin", "prompts"]
						}
					}
				},
				{
					"name": "프롬프트 생성 - 기술지원",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"name\": \"tech_support\",\n  \"system_prompt\": \"당신은 IT 기술 지원 전문가입니다.\\n\\n다음 원칙을 따라 응답해주세요:\\n1. 기술적 문제를 체계적으로 진단하고 해결책을 제시하세요\\n2. 복잡한 기술 용어는 쉽게 설명해주세요\\n3. 단계별 해결 방법을 명확히 안내하세요\\n4. 해결되지 않으면 추가 정보를 요청하거나 전문팀 연결을 안내하세요\\n5. 정확하고 신뢰할 수 있는 정보만 제공하세요\",\n  \"description\": \"기술 지원 전용 상담봇 프롬프트\"\n}"
						},
						"url": {
							"raw": "{{base_url}}/admin/prompts",
							"host": ["{{base_url}}"],
							"path": ["admin", "prompts"]
						}
					}
				},
				{
					"name": "특정 프롬프트 조회",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{base_url}}/admin/prompts/default",
							"host": ["{{base_url}}"],
							"path": ["admin", "prompts", "default"]
						}
					}
				},
				{
					"name": "프롬프트 활성화",
					"request": {
						"method": "POST",
						"header": [],
						"url": {
							"raw": "{{base_url}}/admin/prompts/{{prompt_id}}/activate",
							"host": ["{{base_url}}"],
							"path": ["admin", "prompts", "{{prompt_id}}", "activate"]
						},
						"description": "prompt_id는 프롬프트 목록에서 가져온 UUID를 사용하세요"
					}
				}
			]
		},
		{
			"name": "다양한 상황 테스트",
			"item": [
				{
					"name": "긴 질문 테스트",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							},
							{
								"key": "X-Request-ID",
								"value": "long-question-{{$randomUUID}}"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"userRequest\": {\n    \"utterance\": \"안녕하세요. 저는 최근에 구매한 제품에 문제가 있어서 문의드립니다. 제품을 사용한 지 일주일 정도 되었는데, 갑자기 작동이 멈추고 이상한 소리가 나기 시작했어요. A/S를 받고 싶은데 어떻게 해야 할까요? 그리고 보증 기간은 얼마나 되나요?\",\n    \"user\": {\n      \"id\": \"test-user-long-question\"\n    }\n  }\n}"
						},
						"url": {
							"raw": "{{base_url}}/skill",
							"host": ["{{base_url}}"],
							"path": ["skill"]
						}
					}
				},
				{
					"name": "연속 대화 테스트 1",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							},
							{
								"key": "X-Request-ID",
								"value": "conv-1-{{$randomUUID}}"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"userRequest\": {\n    \"utterance\": \"안녕하세요\",\n    \"user\": {\n      \"id\": \"conversation-test-user\"\n    }\n  }\n}"
						},
						"url": {
							"raw": "{{base_url}}/skill",
							"host": ["{{base_url}}"],
							"path": ["skill"]
						}
					}
				},
				{
					"name": "연속 대화 테스트 2",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							},
							{
								"key": "X-Request-ID",
								"value": "conv-2-{{$randomUUID}}"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"userRequest\": {\n    \"utterance\": \"제품 문의가 있어요\",\n    \"user\": {\n      \"id\": \"conversation-test-user\"\n    }\n  }\n}"
						},
						"url": {
							"raw": "{{base_url}}/skill",
							"host": ["{{base_url}}"],
							"path": ["skill"]
						}
					}
				},
				{
					"name": "연속 대화 테스트 3",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							},
							{
								"key": "X-Request-ID",
								"value": "conv-3-{{$randomUUID}}"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"userRequest\": {\n    \"utterance\": \"앞서 말한 제품 문의 관련해서 더 자세히 알려주세요\",\n    \"user\": {\n      \"id\": \"conversation-test-user\"\n    }\n  }\n}"
						},
						"url": {
							"raw": "{{base_url}}/skill",
							"host": ["{{base_url}}"],
							"path": ["skill"]
						}
					}
				},
				{
					"name": "에러 테스트 - 잘못된 사용자 ID",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"userRequest\": {\n    \"utterance\": \"테스트 메시지\"\n  }\n}"
						},
						"url": {
							"raw": "{{base_url}}/skill",
							"host": ["{{base_url}}"],
							"path": ["skill"]
						}
					}
				}
			]
		}
	],
	"variable": [
		{
			"key": "base_url",
			"value": "http://localhost:8000",
			"description": "API 서버 주소"
		},
		{
			"key": "prompt_id",
			"value": "",
			"description": "테스트할 프롬프트의 UUID (프롬프트 목록에서 복사)"
		}
	]
}
